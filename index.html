<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Dashboard</title>
    <link href="./assets/css/bootstrap.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="./assets/css/styles.css" rel="stylesheet" />
  </head>
  <body>
    <div class="layout-wrapper">
      <div class="left-sidebar d-flex flex-column">
        <div class="logo-section">
          <div class="circle mb-10">
            <img src="./assets/images/logo.png" alt="Company logo" />
          </div>
          <h6 class="fz-12 fw-600 mb-5">SC-172-125-82-211</h6>
          <h6 class="fz-12 fw-400">Administrator</h6>
        </div>
        <nav class="flex-grow-1">
          <a href="#" class="active d-block">Dashboard</a>
          <ul class="list-unstyled parent-menu">
            <li class="menu-wrap">
              <div class="section-title">
                SAN <i class="fas fa-chevron-down"></i>
              </div>
              <ul class="submenu list-unstyled">
                <li>
                  Volume <i class="fas fa-chevron-down"></i>
                  <ul class="list-unstyled">
                    <li>Create New Volume</li>
                    <li>Auto Create</li>
                    <li>Manual Create</li>
                  </ul>
                </li>
                <li>Host</li>
                <li>Sessions</li>
              </ul>
              <div class="section-title">
                Target Portal <i class="fas fa-chevron-down"></i>
              </div>
            </li>
            <li class="menu-wrap">
              <div class="section-title">
                NAS <i class="fas fa-chevron-down"></i>
              </div>
              <ul class="submenu list-unstyled">
                <li>Segments <i class="fas fa-chevron-down"></i></li>
                <li>Antivirus <i class="fas fa-chevron-down"></i></li>
                <li>Scaleout <i class="fas fa-chevron-down"></i></li>
              </ul>
            </li>

            <li class="menu-wrap">
              <div class="section-title">
                Resources <i class="fas fa-chevron-down"></i>
              </div>
              <ul class="submenu list-unstyled">
                <li>Create Flash Cache ▸</li>
                <li>Flash Cache Configuration</li>
                <li>Create Object Storage</li>
                <li>Detail ▸</li>
              </ul>
            </li>

            <li class="menu-wrap">
              <div class="section-title">
                System <i class="fas fa-chevron-down"></i>
              </div>
              <ul class="submenu list-unstyled">
                <li>Admin <i class="fas fa-chevron-down"></i></li>
                <li>Network</li>
                <li>iDiagnostics <i class="fas fa-chevron-down"></i></li>
                <li>Notifications</li>
                <li>UPS</li>
                <li>Users <i class="fas fa-chevron-down"></i></li>
              </ul>
            </li>

            <li class="menu-wrap">
              <div class="section-title">
                Reports <i class="fas fa-chevron-down"></i>
              </div>
              <ul class="submenu list-unstyled">
                <li>Log</li>
                <li>Configuration Report</li>
                <li>Historical Statistics</li>
                <li>Debug Logs</li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <div class="content-wrapper bg-image">
        <div class="top-header">
          <div class="welcome">
            <div class="avatar" aria-label="User avatar"></div>
            <div class="text">
              <div class="title">Welcome</div>
              <div class="id">SC-172-125-82-211</div>
              <div class="status">
                <span>Status</span>
                <span class="badge">Good</span>
              </div>
            </div>
          </div>
          <div class="actions">
            <button class="support" type="button">Support</button>
            <button class="power" aria-label="Power off" type="button">
              <i class="fas fa-power-off"></i>
            </button>
          </div>
        </div>
        <h2 class="dashboard-title">Dashboard</h2>
        <section class="info-bar-sec">
          <button class="info-btn" type="button">
            Information <i class="fas fa-chevron-right"></i>
          </button>
          <div class="info-item">
            <img
              src="./assets/images/iscsi.png"
              alt="Icon representing iSCSI SAN IP"
            />
            <div>
              <div class="label">ISCSI SAN IP:</div>
              <div class="value">192.168.10.255</div>
            </div>
          </div>
          <div class="info-item">
            <img
              src="./assets/images/lan.png"
              alt="Icon representing NAS LAN IP"
            />
            <div>
              <div class="label">NAS LAN IP:</div>
              <div class="value">192.168.10.255</div>
            </div>
          </div>
          <div class="info-item">
            <img
              src="./assets/images/san.png"
              alt="Icon representing iSCSI LAN IP"
            />
            <div>
              <div class="label">ISCSI LAN IP:</div>
              <div class="value">192.168.10.255</div>
            </div>
          </div>
        </section>
        <section class="position-relative dashboard-sec">
          <div class="row">
            <div class="col-lg-1">
              <div class="left-side-triangle"></div>
            </div>
            <div
              class="col-lg-5 d-flex flex-column justify-content-center align-items-center position-relative col-divider"
            >
              <h6 class="text-center network-heading">CPU & Memory</h6>
              <div class="d-flex">
                <div class="chart position-relative">
                  <h6 class="cpu-value">1.5</h6>
                  <canvas id="cpu"></canvas>
                  <h6 class="fz-12 fw-400 text-center">Cpu</h6>
                </div>
              </div>
            </div>
            <div
              class="col-lg-5 d-flex flex-column justify-content-center align-items-center"
            >
              <h6 class="text-center network-heading">Network Utilization</h6>
              <div class="network-circles">
                <svg
                  viewBox="0 0 120 120"
                  aria-label="Network Received speed circle"
                >
                  <circle
                    class="circle-bg"
                    cx="60"
                    cy="60"
                    r="54"
                    stroke-width="8"
                    fill="none"
                  ></circle>
                  <circle
                    class="circle-fg-blue"
                    cx="60"
                    cy="60"
                    r="54"
                    stroke-width="6"
                    stroke-dasharray="339.292"
                    stroke-dashoffset="135.717"
                    fill="none"
                  ></circle>
                  <text x="60" y="40" class="circle-text">Network Rcvd</text>
                  <text x="60" y="65" class="circle-value">0.06</text>
                  <text x="60" y="85" class="circle-unit">megabits/s</text>
                </svg>
                <svg
                  class="w-36 h-36"
                  viewBox="0 0 120 120"
                  aria-label="Network Sent speed circle"
                >
                  <circle
                    class="circle-bg"
                    cx="60"
                    cy="60"
                    r="54"
                    stroke-width="8"
                    fill="none"
                  ></circle>
                  <circle
                    class="circle-fg-red"
                    cx="60"
                    cy="60"
                    r="54"
                    stroke-width="6"
                    stroke-dasharray="339.292"
                    stroke-dashoffset="152.735"
                    fill="none"
                  ></circle>
                  <text x="60" y="40" class="circle-text">Network Sent</text>
                  <text x="60" y="65" class="circle-value">0.05</text>
                  <text x="60" y="85" class="circle-unit">megabits/s</text>
                </svg>
              </div>
            </div>
            <div class="col-lg-1 d-flex justify-content-end">
              <div class="right-side-triangle"></div>
            </div>
          </div>
        </section>
        <section class="card-sec">
          <div class="row">
            <div class="col-lg-4">
              <div class="memory-card">
                <div class="row">
                  <div class="col-lg-8">
                    <h6 class="card-title">Concentrator Type</h6>
                    <h6 class="card-desc">Name Name: SC-192-168-10-250</h6>
                    <h6 class="card-desc">MGMT: 192.168.10.250 ISCSI</h6>
                    <h6 class="card-desc">IP: 192.168.10.250</h6>
                  </div>
                  <div class="col-lg-4">
                    <img src="./assets/images/card_2.png" alt="Card" />
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="memory-card">
                <div class="row">
                  <div class="col-lg-8">
                    <h6 class="card-title">Quick Links</h6>
                    <h6 class="card-title">Customer</h6>
                    <h6 class="card-title">Support</h6>
                  </div>
                  <div class="col-lg-4">
                    <img src="./assets/images/card_1.png" alt="Card" />
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4">
              <div class="memory-card">
                <div class="row">
                  <div class="col-lg-6">
                    <h6 class="card-title">Discovered SC’s</h6>
                    <h6 class="card-desc">SC-192-168-10-250</h6>
                    <h6 class="card-desc">SC-192-168-10-250</h6>
                    <button class="open-btn">Open</button>
                  </div>
                  <div class="col-lg-6">
                    <img src="./assets/images/card_3.png" alt="Card" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="resource-header d-flex justify-content-between">
          <h6>Resources</h6>
          <div class="status-container d-flex">
            <div class="generic-checkbox blue-checked">
              <input type="checkbox" checked name="cb" />
              <label>Used</label>
            </div>
            <div class="generic-checkbox robin-blue-checked">
              <input type="checkbox" checked name="cb" />
              <label>Available</label>
            </div>
            <div class="generic-checkbox robin-blue-checked">
              <input type="checkbox" checked name="cb" />
              <label>Not Managed</label>
            </div>
          </div>
        </section>
        <section class="table-sec">
          <!-- Header Row -->
          <div class="grid-cell-wrap">
            <div class="grid-header">Image</div>
            <div class="grid-header">Name</div>
            <div class="grid-header">Path</div>
            <div class="grid-header">
              Total Space <br />
              (GiB)
            </div>
            <div class="grid-header">
              Used <br />
              (GiB)
            </div>
            <div class="grid-header">
              Free <br />
              (GiB)
            </div>
          </div>

          <!-- Data Rows -->
          <div id="data-rows"></div>
        </section>
      </div>
    </div>
  </body>
  <script>
    const data = [
      {
        values: ["ubuntu.png", "Root Drive", "/", "120", "80", "40"],
        progress: 66,
      },
      {
        values: ["windows.png", "System Drive", "C:\\", "256", "200", "56"],
        progress: 78,
      },
      {
        values: ["data.png", "Data Drive", "/mnt/data", "1024", "768", "256"],
        progress: 75,
      },
      {
        values: [
          "backup.png",
          "Backup Volume",
          "/backup",
          "2048",
          "1024",
          "1024",
        ],
        progress: 50,
      },
      {
        values: ["temp.png", "TempFS", "/run", "4", "3.5", "0.5"],
        progress: 88,
      },
      {
        values: ["swap.png", "Swap Space", "/swapfile", "16", "12", "4"],
        progress: 75,
      },
    ];

    const container = document.getElementById("data-rows");

    data.forEach((item) => {
      const row = document.createElement("div");
      row.className = "grid-cell-wrap";

      // Create cell divs
      const cellHTML = item.values
        .map((val) => `<div class="grid-cell">${val}</div>`)
        .join("");

      // Add progress status
      const progressHTML = `
    <div class="progress-status">
      <progress class="progress-bar active" value="${item.progress}" max="100"></progress>
    </div>`;

      // Combine and insert
      row.innerHTML = cellHTML + progressHTML;
      container.appendChild(row);
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gauge.js/1.3.5/gauge.min.js"></script>
  <script>
    let opts = {
      angle: 0.15,
      lineWidth: 0.44,
      radiusScale: 0.83,
      pointer: {
        length: 0.8,
        strokeWidth: 0.035,
        color: "#d1d1d1",
      },
      limitMax: false,
      limitMin: false,
      colorStart: "#F2F3F4",
      colorStop: "#FFA500",
      strokeColor: "#E0E0E0",
      generateGradient: true,
      highDpiSupport: true,
    };

    // CPU Gauge
    let cpuCanvas = document.querySelector("#cpu");
    let cpuGauge = new Gauge(cpuCanvas).setOptions(opts);
    cpuGauge.maxValue = 100; // Example max value
    cpuGauge.setMinValue(0);
    cpuGauge.animationSpeed = 32;
    cpuGauge.set(40);
    setInterval(() => {
      const cpuUsage = Math.floor(Math.random() * 101); // Simulate a value between 0-100
      cpuGauge.set(cpuUsage);
    }, 10000);
  </script>

  <script>
    document.querySelectorAll(".left-sidebar li").forEach(function (li) {
      li.addEventListener("click", function (e) {
        // prevent the click from bubbling up if you click inside the submenu
        if (
          e.target.tagName === "LI" ||
          e.target.classList.contains("section-title") ||
          e.target.tagName === "I"
        ) {
          li.classList.toggle("open");
        }
        e.stopPropagation();
      });
    });

    // Constants
    const FULL_CIRCLE = 2 * Math.PI * 54; // Circumference for r=54

    // Example data update function
    function updateNetworkStats(receivedMbps, sentMbps) {
      // Clamp percentage to max 100
      const recvPercent = Math.min((receivedMbps / 1) * 100, 100); // Assuming 1 Mbps as 100%
      const sentPercent = Math.min((sentMbps / 1) * 100, 100);

      // Calculate stroke offsets
      const recvOffset = FULL_CIRCLE * (1 - recvPercent / 100);
      const sentOffset = FULL_CIRCLE * (1 - sentPercent / 100);

      // Update Network Received circle
      const recvCircle = document.querySelector(".circle-fg-blue");
      recvCircle.setAttribute("stroke-dashoffset", recvOffset);
      document.querySelectorAll(".circle-text")[0].textContent = "Network Rcvd";
      document.querySelectorAll(".circle-value")[0].textContent =
        receivedMbps.toFixed(2);

      // Update Network Sent circle
      const sentCircle = document.querySelector(".circle-fg-red");
      sentCircle.setAttribute("stroke-dashoffset", sentOffset);
      document.querySelectorAll(".circle-text")[1].textContent = "Network Sent";
      document.querySelectorAll(".circle-value")[1].textContent =
        sentMbps.toFixed(2);
    }

    // Simulate update every 2 seconds
    setInterval(() => {
      const fakeRecv = Math.random() * 1;
      const fakeSent = Math.random() * 1;
      updateNetworkStats(fakeRecv, fakeSent);
    }, 10000);
  </script>
</html>
